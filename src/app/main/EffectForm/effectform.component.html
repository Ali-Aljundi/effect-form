<div class="page-layout simple left-sidebar inner-sidebar colo" id= "toast_pos_target">
    <div class="cont" fxFlex="100" fxLayout="row wrap " >
        <div class="first">
            <div fxLayout="column">
                <div class="ref-button">
                   <button class="ref" mat-raised-button color="accent" [class.spinner2]="refreshSpinner" [disabled]="refreshSpinner" (click)="refreshSpinner = true" (click)="refreshWidget()" >Refresh</button>
                 
                </div>
                <app-small-widget color='red' type='email' [active_count]='account.fb_accounts_info[1].active_count' [total_count]='account.fb_accounts_info[1].total_count' ></app-small-widget>
                <app-small-widget color='green' type='mobile' [active_count]='account.fb_accounts_info[0].active_count' [total_count]='account.fb_accounts_info[0].total_count' ></app-small-widget>
            
            </div>
        </div>
        

        <div class="center" fusePerfectScrollbar>
            <div id="forms" class="page-layout simple fullwidth" fxLayout="column">
                    <div class="mb-24 p-12" fxLayout="column" fxLayoutAlign="start" fxLayout.gt-md="row">
                        <form class="mat-card mat-elevation-z4 p-12 mr-24" fxLayout="column" fxLayoutAlign="start"
                        fxFlex="1 0 auto" name="form" [formGroup]="form">


                        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
                            <mat-form-field appearance="outline" fxFlex="100" >
                                <mat-label  class="h2">Account Type</mat-label>
                                <mat-select formControlName="registerdAccountType" required>
                                    <mat-option *ngFor="let item of account.fb_account_types" [value]="item">
                                        {{item}}
                                    </mat-option>
                                </mat-select>
                                <mat-icon matSuffix class="secondary-text">account_box</mat-icon>
                                <mat-error>Account Type is required!</mat-error>
                            </mat-form-field>
                        </div>

                            <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
                                <mat-form-field appearance="outline"  fxFlex="100" class="pr-4" >
                                <mat-label class="h2" >Count</mat-label> 
                                <input matInput formControlName="count" >
                                <mat-icon matSuffix class="secondary-text">format_list_numbered_rtl</mat-icon>
                                <mat-error> Count is required!</mat-error>
                                </mat-form-field>
                            </div>

                            <mat-form-field class="mb-0" appearance="outline" fxFlex="100">
                                <mat-label  class="h2" >Effect Type</mat-label>
                                <mat-select formControlName="effectType" >
                                    <mat-option *ngFor="let item of account.fb_effect_types" [(value)]="item" >
                                        {{item}}
                                    </mat-option>
                                    
                                </mat-select >
                                <mat-icon matSuffix class="secondary-text">list_alt</mat-icon>
                                <mat-error>Effect Type is required!</mat-error>
                            </mat-form-field>
                            
                            <app-dynamic-form  [form]='form' nameOFfield='URL' (finlevalue)='getURLvalue($event)'></app-dynamic-form>
                           
                            <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
                                <mat-form-field class="mb-8" appearance="outline" fxFlex="100" >
                                    <mat-label  class="h2">URL Type</mat-label>
                                    <mat-select formControlName="url_type" required>
                                        <mat-option *ngFor="let item of account.fb_url_types" [value]="item">
                                            {{item}}
                                        </mat-option>
                                    </mat-select>
                                    <mat-icon matSuffix class="secondary-text">settings_ethernet</mat-icon>
                                    <mat-error>URL Type is required!</mat-error>
                                </mat-form-field>
                            </div>

                            <div *ngIf="form.value.effectType == 'comment' || form.value.effectType == 'share'">
                                
                                <app-dynamic-form  [form]='form' nameOFfield='Content' (finlevalue)='getContentvalue($event)'></app-dynamic-form>
                            </div>
                             
                            {{enableContent()}}

                            <button  class="mt-20" [disabled]='form.invalid'  mat-raised-button color="accent"  [class.spinner2]="ApplySpinner" [disabled]="ApplySpinner" (click)="ApplySpinner=true"  (click)=" SendInfo()"  >Apply Effect</button>
                            
                            <ejs-toast #element  [position] = 'position' cssClass="e-toast-{{toastColor}} e-fixed" >
                                <ng-template #title>
                                    <div>API Response</div>
                                </ng-template>
                                <ng-template #content>
                                    <div>{{message}}</div>
                                </ng-template>
                            </ejs-toast>
                        </form>
                    </div>
                </div>
            </div>
    </div>
</div>